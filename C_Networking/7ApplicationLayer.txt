Intro to Application Layer(Layer-7):-
 - End user interact directly with software application and Program are based on client and servers
 
 Function :- Identifying communication partner  |  Determining resource availability  |  Synchronizing communication
 
 Services :-
  Network Virtual terminal :- 
   - Allow user to log on to remote host 
   - Remote host think that it is communicating with one of its own terminal, so it allows user to log on

  File Transfer, Access and Management(FTAM) :- 
   - Allow user to access files in remote computer 
   - FTAM define hierarchical of virtual file in terms of file structure, file attribute and perform operation
   
  Addressing :- 
   - For communication between client and server need addressing 
   - When client made request to server, request contain server address and its own address
   - Server response client request to achieve this kind of addressing, DNS is used

  Mail Services     :- Provide Email forwarding and storage
  Directory Service :- Distributed database provide access for global information about various objects and service
  Authentication    :- Authenticate sender or receiver's message or both



Network Application Architecture :-
 - Network architecture fixed and provides set of services to application while application architecture designed by 
   application developer and defines how application should be structured over various end system

 Application architecture is of two types :- Client-Server  |  Peer-to-Peer

 Client-server architecture :- 
  - Application program running on local machine known as client send request to another application program and 
    program that serves request is known as a server 

   Characteristics :-
    - Client not directly communicate with each other 
    - Server has fixed well-known address known as IP address because server is always on while client always contact
      server by sending packet to sender's IP address
   
   Disadvantage :-
    - Single-server based architecture which is incapable of holding all requests from the client
 

 P2P (peer-to-peer) architecture : 
  - No dedicated server in data center 
  - Peers are computers which are not owned by service provider 
  - Most of peers reside in homes, offices, schools and universities 
  - Peers communicate with each other without passing information through dedicated server
  - Application based on P2P architecture includes file sharing and internet telephony

  Features :- 
   Self scalability : In a file sharing system, although each peer generates a workload by requesting the files, each peer also adds a service capacity by distributing the files to the peer.
   Cost-effective   : Not require significant server infrastructure and server bandwidth



Client and Server model :-
 - Server provide network service to client to perform user based tasks 
 Diagram :- Client(Send Request to perform task) --> Internet <-- Server(Process Request and Send Response)
 
 - Application program known as client program, running on local machine that request for service from application 
   program known as server program, running on remote machine
 - Server provide service for many client not just for single client 
 - Therefore, client-server follow many-to-one relationship

 Advantages :-
  Centralized : Centralized back-up possible (All data stored in server)
  Security    : More secure as all shared resources are centrally administered
  Performance : Dedicated server increases speed and performance of sharing resources and overall system
  Scalability : Increase number of client and server separately 
  
 Disadvantages :- 
  - Traffic Congestion(Large number of request to same server)
  - Not have Robustness(When server is down, then client requests cannot be met)
  - Very decisive, Hardware not serve certain number of client 
  - Sometime Resource exist in server but may not exist in client



DNS(Domain Name System) :-
 - DNS is directory service that provide mapping between name of host on network and its numerical address
 - Each node in tree has domain name and a full domain name is sequence of symbols specified by dots
 - DNS service translate domain name into IP addresses which help user by providing user-friendly names when looking
   for other host instead of remembering IP addresses
 - DNS is TCP/IP protocol divided into three different section :- Generic domain | Country domain | Inverse domain


 Generic Domain :- 
  - Specify registered hosts according to their generic behavior
  - Each node in tree define domain name, which is index to DNS database
  - It uses three-character label and these label describe organization type
  
  Label	Description
   aero	Airlines and aerospace companies     |   int	International Organizations
   biz	Businesses or firm                   |   mil	Military group
   com	Commercial Organization              |   name	Personal name
   coop	Cooperative business Organization    |   net	Network Support center
   edu	Educational institution              |   pro	Professional individual Organization
   gov	Government institution               |   org	Nonprofit Organization
   info	Information service provider         |   museum	Museum & other nonprofit organization


 Country Domain :-
  - It use two-character country abbreviation(E.x :- us for United State)


 Inverse Domain :- 
  - Used for mapping address to name 
  - When server receive request from client and server contain file of only authorize client 
  - To determine whether client is authorized or not, it send query to DNS server and ask for mapping address to name


 Working of DNS :-
  - DNS client send request to server while DNS servers send responses to client
  - Client request contain name which converted into IP address known as forward DNS lookups while request containing
    IP address which converted into name known as reverse DNS lookup
  - DNS implement distributed database to store name of all host available on internet
  - If client like web browser send request containing hostname then piece of software such as DNS resolver send request
    to DNS server to obtain IP address of hostname
  - If DNS server not contain IP address associated with hostname then it forward request to another DNS server 



FTP(File transfer protocol) :-
 - Provided by TCP/IP used for transmitting files from one host to another
 - Transferring web page file from their creator to computer that acts as server for other computer on internet
 - Also used for downloading file from other server
 - Objectives of FTP :- Sharing of file | Transfer data more reliably and efficiently
 - Two system may have different ways to represent text and data and different directory structure
 - FTP protocol overcome these problem by establishing two connection between hosts
 - One connection for data transfer and another connection for control connection
 FTP client has three component :- User interface | Control process | Data transfer process 
 FTP server has two component   :- Server control process  |  Server data transfer process


 Types of connections in FTP :-
  Control Connection :- 
   - Simple rules for communication made between control processes
   - Through control connection, transfer line of command or line of response at time 
   - Remain connected during entire interactive FTP session

  Data Connection :- 
   - Very complex rules as data types may vary 
   - Made between data transfer processes 
   - Data connection open when command come for transferring files and close when file is transferred


 FTP Client :-
  - Program that implement FTP which allow to transfer file between two hosts on internet
  - Allow user to connect to remote host and upload or download file
  - It has set of command that use to connect to host, transfer files and close connection
  - FTP also available as built-in component in Web browser 
  
  
 Advantages of FTP :- Speed | Efficient | Security(ID,Password) | Back & forth movement(Transfer file back and forth)
  
 Disadvantages of FTP :-
  - Some provider not use encryption file transfer that allow unwanted eavesdropping
  - Size limit of file is 2GB that sent and doesn't run simultaneous transfers to multiple receiver
  - Not compatible with every system



Telnet(Terminal Network):- 
 - Allow user to log on to remote computer to perform different operation
 - It provide connection to remote computer in such way that local terminal appears to be at remote side
 
 Type of login :- Local Login | Remote Login
 
  Local Login :-
   Diagram(Local) :- https://static.javatpoint.com/tutorial/computer-network/images/computer-network-telnet.png
   - When user log into local computer, then it is known as local login.
   - When running terminal emulator keystroke entered by user are accepted by terminal driver
   - Terminal driver then passe these character to OS which invoke desired application program
   - However OS has special meaning to special characters 
  
  Remote login :-
   Diagram :- https://static.javatpoint.com/tutorial/computer-network/images/computer-network-telnet2.png 
   - When user wants to access application program on remote computer then user must perform remote login
   
   At local site :-
    - User send keystroke to terminal driver, character then sent to TELNET client 
    - TELNET client transform character to universal character known as virtual terminal character and deliver them
      to local TCP/IP stack
  
   At remote site :-
    - Command in NVT(Network Virtual Terminal) forms are transmitted to TCP/IP at remote machine 
    - Here character are delivered to OS and then pass to TELNET server 
    - TELNET server transform character which understandable by remote computer 
    - However character cannot be directly passed to OS as remote OS not receive character from TELNET server 
    - Therefore it require some piece of software that accept characters from TELNET server 
    - OS then passes these characters to appropriate application program

  
 Network Virtual Terminal (NVT) :-
  - Interface that defines how data and commands are sent across network
  - TELNET solves OS Special character issue by defining universal interface known as network virtual interface
  - TELNET client translate character that come from local terminal into NVT form and then delivers them to network 
  - Telnet server then translates data from NVT form into form which can be understandable by remote computer
  Diagram :-
    Terminal --> Telnet Client  <-- Internet  --> Telnet Server <----> PesudoTerminal driver
    |  Local character set  |   | NVT character |   | Remote Computer Set |



SMTP(Simple Mail Transfer Protocol) :-
 - Set of communication guideline that allow software to transmit electronic mail over internet 
 - It provides a mail exchange between users on the same or different computers
 - Send single message to one or more recipient, can include text, voice, video or graphics
 - Main purpose to set up communication rules between servers 
 - Server identifying themselves and announcing what kind of communication they are trying to perform 
 - They also have way of handling error such as incorrect email address 
 
 Component :- 
  - SMTP client and SMTP server into user agent (UA) and mail transfer agent (MTA)
  - UA prepare message and put in envelope then MTA transfer this mail across internet
  - SMTP allow more complex system by adding relaying system 
  - Instead of one MTA at sending side and one at receiving side, more MTAs added, acting either as client or server
    to relay email
  - Relaying system without TCP/IP protocol used to send the email to user and this is achieved by use of mail gateway
  - Mail gateway relay MTA used to receive email


 Working of SMTP :-
  Composition of Mail :-
   - User send e-mail by composing electronic mail message using Mail User Agent(MUA)
   - MUA is program which used to send and receive mail 
   - Message contains two parts: body and header 
   - Body main part of message while header include information such as sender and recipient address 
   - Header include subject of message 
   - Message body like letter and header like envelope that contain recipient's address
  
  Mail Submission :- After composing mail client submit complete e-mail to SMTP server by using SMTP on TCP port 25
  
  Mail Delivery :- 
   - E-mail addresses contain two part : username of recipient and domain name(gmail.com)
   - If domain name of recipient's email address is different from sender domain name then MSA send mail to MTA 
   - To relay email MTA find target domain and check MX record from DNS to obtain target domain 
   - MX record contain domain name and IP address of recipient's domain 
   - Once record is located MTA connect to exchange server to relay message
  
  Receipt and Processing of Mail :- 
   - Once message received exchange server deliver it to incoming server(MTM) which store e-mail where it wait for
     user to retrieve it
  
  Access and Retrieval of Mail :- 
   - Stored email in MDA retrieved by using MUA and accessed by using login and password



SNMP(Simple Network Management Protocol) :-
 - Framework that Provide set of operation which used for monitoring and managing device on internet
 - SNMP has two component Manager and agent
 - Manager is host that control and monitor set of agents such as routers
 - It is used in heterogeneous network made of different LANs and WANs connected by routers or gateway

 Managers & Agent :-
  - Manager is host that run SNMP client program while agent is router that runs SNMP server program
  - Agent keep information in database while manager access values in database 
  - Agent also contribute to management process 
  - Server program on agent check environment if something goes wrong agent send warning message to manager

 
 Management with SNMP has three basic ideas:
  - Manager check agent by requesting information that reflect behavior of agent
  - Manager also force agent to perform certain function by resetting values in agent database
  - Agent also contribute to management process by warning manager regarding unusual condition

 
 Management Component:-
  - Management achieved through use of other two protocols :- 
    SMI (Structure of management information)  |  MIB(management information base)
  - Management is combination of SMI, MIB and SNMP 
  - All these three protocols such as abstract syntax notation 1(ASN.1) and basic encoding rules(BER)

 
  SMI(Structure of management information) :- 
   - Define type of data that stored in object and to show how to encode data for transmission over network

  MIB(Management information base) :- 
   - Each agent has its own MIB which is collection of all objects that manager can manage 
   - MIB categorized into eight groups :- 
     System | Interface | Address Translation | IP | ICMP | TCP | UDP | EGP 
   - These groups are under MIB object


 Types of messages :- GetRequest, GetNextRequest, SetRequest, GetResponse, and Trap.
  GetRequest :- Message sent from manager(client) to agent(server) to retrieve value of variable
  
  GetNextRequest :- 
   - Message sent from manager to agent to retrieve value of variable and entries in table 
   - If manager does not know indexes of entries then it will not able to retrieve values 
   - In such situations, GetNextRequest message is used to define object

  GetResponse :- 
   - Sent from agent to manager in response to GetRequest and GetNextRequest message 
   - Contain value of variable requested by manager

  SetRequest :- Message sent from manager to agent to set value in variable

  Trap :- Sent from agent to manager to report event 
  


HTTP(HyperText Transfer Protocol) :-
 - Used to access data on World Wide Web(www)
 - Transfer data in form of plain text, hypertext, audio, video, and so on
 - Similar to FTP as it also transfer file But HTTP is simpler than FTP as HTTP uses only one connection
 - HTTP carry data in form of MIME(Multipurpose Internet Mail Extensions) format
 - SMTP message stored and forwarded while HTTP messages delivered immediately
 
 Feature :-
  Connectionless protocol :- 
   - Client initiates request and wait for response from server 
   - When server receive request, process it, send response to HTTP client after which client disconnect connection
    
  Media independent :- 
   - Data can be sent as long as both client and server know how to handle data content 
   - It required for both client and server to specify content type in MIME-type header

  Stateless :- 
   - Both client and server know each other only during current request 
   - Due to this both client and server not retain information between various request of web page


 Messages :-
  - HTTP messages are of two types : request and response 
  - Both message type follow same message format
  Request Message :- Sent by client that consists of request line, header and sometime body
  Response Message:- Sent by server to client that consist of status line, header and sometime body


 Uniform Resource Locator (URL) :-
  - URL is standard way of specifying any kind of information on internet
  Syntax :- Method:// Host : Port / Path
  
  Method :- Used to retrieve document from server(Ex :- HTTP)
  Host : 
   - Computer where information stored and given alias name
   - Web page mainly stored in computers and computer given an alias name that begins with character "www" 
   - This field is not mandatory

  Port :- Port number of server, but it's an optional field 
   
  Path :- 
   - Pathname of file where information is stored 
   - Path itself contain slashes that separate directories from subdirectories and files


 URI(Uniform Resource Identifier) :-
  - URI can be name, locator or both for online resource whereas URL is just locator
  - URLs are subset of URIs
  - URL is human-readable text that designed to replace IP addresses numbers that computer use communicate with server
  - URL consists of protocol, domain name, and path 
  
  Syntax :- protocol://WebSiteName.topLevelDomain/path
   Protocol       - HTTP or HTTPS
   WebSiteName    - google
   topLevelDomain - .com, .edu, .in
   path           - Specific folder and/or subfolders that are on given website

